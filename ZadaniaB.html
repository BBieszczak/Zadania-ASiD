<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <h3>Zadanie 1: Liczby większe od średniej</h3>
    <p>Wpisz 10 liczb całkowitych oddzielonych przecinkami:</p>
    <input type="text" id="liczbyInput" placeholder="np. 1, 5, 10, 3, ...">
    <button onclick="analizujLiczby()">Sprawdź</button>

    <div id="wynik" style="margin-top: 20px;"></div>

    <script>
        function analizujLiczby() {
            const input = document.getElementById('liczbyInput').value;
            // Zamiana tekstu na tablicę liczb
            let tablica = input.split(',').map(num => parseInt(num.trim())).filter(n => !isNaN(n));

            // Walidacja - czy jest 10 liczb (opcjonalne, ale zgodne z treścią zadania)
            if (tablica.length !== 10) {
                alert("Proszę podać dokładnie 10 liczb!");
                return;
            }

            // 1. Obliczanie średniej
            let suma = tablica.reduce((a, b) => a + b, 0);
            let srednia = suma / tablica.length;

            // 2. Znalezienie liczb większych od średniej
            let wiekszeOdSredniej = tablica.filter(liczba => liczba > srednia);

            // 3. Wyświetlenie wyników
            const wynikDiv = document.getElementById('wynik');
            wynikDiv.innerHTML = `
                <p>Wprowadzone liczby: ${tablica.join(', ')}</p>
                <p>Średnia arytmetyczna: <strong>${srednia}</strong></p>
                <p>Liczby większe od średniej: <strong>${wiekszeOdSredniej.join(', ')}</strong></p>
                <p>Ilość takich liczb: <strong>${wiekszeOdSredniej.length}</strong></p>
            `;
        }
    </script>

    <h3>Zadanie 2: Zmiana tła</h3>
    <form onsubmit="zmienKolor(event)">
        <label for="kolor">Wybierz kolor tła:</label>
        <input type="color" id="kolor" name="kolor">
        <button type="submit">Zatwierdź wybór</button>
    </form>

    <br>
    <label>Wybrany kod koloru:</label>
    <output id="wynikKoloru"></output>

    <script>
        function zmienKolor(event) {
            event.preventDefault(); // Zapobiega przeładowaniu strony

            // Pobranie wartości z inputa
            const wybranyKolor = document.getElementById('kolor').value;

            // Zmiana tła strony
            document.body.style.backgroundColor = wybranyKolor;

            // Wyświetlenie wartości w <output>
            document.getElementById('wynikKoloru').value = wybranyKolor;
        }
    </script>

    <h3>Zadanie 3: Kalkulator</h3>
    <label>Liczba 1: <input type="number" id="l1"></label><br><br>
    <label>Liczba 2: <input type="number" id="l2"></label><br><br>
    <button onclick="oblicz()">Oblicz</button>

    <div id="kontenerTabeli" style="margin-top: 20px;"></div>

    <script>
        function oblicz() {
            // Pobranie i konwersja na liczby
            const l1 = parseFloat(document.getElementById('l1').value);
            const l2 = parseFloat(document.getElementById('l2').value);
            const kontener = document.getElementById('kontenerTabeli');

            // Walidacja czy podano liczby
            if (isNaN(l1) || isNaN(l2)) {
                alert("Proszę wprowadzić obie liczby.");
                return;
            }

            let iloraz = (l2 !== 0) ? (l1 / l2).toFixed(2) : "Nie dziel przez zero!";

            // Generowanie tabeli HTML
            let tabela = `
                <table>
                    <tr>
                        <th>Działanie</th>
                        <th>Wynik</th></tr>
                    <tr>
                        <td>Suma</td>
                        <td>${l1 + l2}</td></tr>
                    <tr>
                        <td>Różnica</td>
                        <td>${l1 - l2}</td></tr>
                    <tr>
                        <td>Iloczyn</td>
                        <td>${l1 * l2}</td></tr>
                    <tr>
                        <td>Iloraz</td>
                        <td>${iloraz}</td></tr>
                </table>
            `;

            kontener.innerHTML = tabela;
        }
    </script>

    <h3>Zadanie 4: Generator par słów</h3>
    <p>Wpisz słowa oddzielone spacją:</p>
    <label>Lista 1 (Kolumny): <input type="text" id="lista1" placeholder="np. Ala Ola"></label><br><br>
    <label>Lista 2 (Wiersze): <input type="text" id="lista2" placeholder="np. Kot Pies"></label><br><br>
    <button onclick="generujTabele()">Generuj pary</button>

    <div id="wynikTabela" style="margin-top: 20px;"></div>

    <script>
        function generujTabele() {
            // Pobranie i podział stringów na tablice
            const slowa1 = document.getElementById('lista1').value.trim().split(/\s+/);
            const slowa2 = document.getElementById('lista2').value.trim().split(/\s+/);

            if (slowa1[0] === "" || slowa2[0] === "") {
                alert("Wypełnij obie listy słowami.");
                return;
            }

            let html = '<table>';
            
            // Nagłówki kolumn (Lista 1) - pierwsza komórka pusta
            html += '<tr><th>X</th>';
            slowa1.forEach(s1 => {
                html += `<th>${s1}</th>`;
            });
            html += '</tr>';

            // Wiersze (Lista 2 jako nagłówki wierszy + pary)
            slowa2.forEach(s2 => {
                html += '<tr>';
                html += `<th>${s2}</th>`; // Nagłówek wiersza
                slowa1.forEach(s1 => {
                    html += `<td>${s1} - ${s2}</td>`; // Para słów
                });
                html += '</tr>';
            });

            html += '</table>';
            document.getElementById('wynikTabela').innerHTML = html;
        }
    </script>

    <h3>Zadanie 5: Analiza tekstu</h3>
    <textarea id="tekstInput" rows="4" cols="50"
        placeholder="Wpisz tutaj tekst. Np. Ala ma kota! Czy to 5 kotów? A może 0."></textarea><br>
    <button onclick="analizujTekst()">Sprawdź</button>

    <ul id="wynikiList"></ul>

    <script>
        function analizujTekst() {
            const tekst = document.getElementById('tekstInput').value;

            // 1. Zliczanie cyfr (0-9)
            // Używamy wyrażenia regularnego \d (digit) z flagą g (global)
            const cyfry = tekst.match(/\d/g);
            const liczbaCyfr = cyfry ? cyfry.length : 0;

            // 2. Zliczanie zdań (kończących się na . ! lub ?)
            // Dzielimy tekst po znakach interpunkcyjnych, usuwamy puste elementy powstałe na końcu
            const zdaniaRaw = tekst.split(/[.!?]+/);
            // Filtrujemy, żeby usunąć puste stringi (np. po ostatniej kropce)
            const zdania = zdaniaRaw.filter(z => z.trim().length > 0);
            const liczbaZdan = zdania.length;

            // 3. Sprawdzanie zdań na literę "A"
            let zdaniaNaA = 0;
            zdania.forEach(zdanie => {
                // Usuwamy białe znaki z początku i sprawdzamy pierwszą literę
                if (zdanie.trim().toUpperCase().startsWith('A')) {
                    zdaniaNaA++;
                }
            });

            // Wyświetlenie wyników
            const lista = document.getElementById('wynikiList');
            lista.innerHTML = `
                <li>Liczba wystąpień cyfr: <strong>${liczbaCyfr}</strong></li>
                <li>Liczba zdań: <strong>${liczbaZdan}</strong></li>
                <li>Liczba zdań zaczynających się na "A": <strong>${zdaniaNaA}</strong></li>
                <li>Czy wystąpiło zdanie na "A"?: <strong>${zdaniaNaA > 0 ? "TAK" : "NIE"}</strong></li>
            `;
        }
    </script>
</body>

</html>